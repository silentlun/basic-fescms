/*app.js
*/

// Make sure jQuery has been loaded
if (typeof jQuery === 'undefined') {
throw new Error('Admin requires jQuery')
}

! function(s) {
	"use strict";
	function changeSkin(e){
		"light" == e ? (document.body.setAttribute("data-layout-mode", "light"), document.body.setAttribute("data-topbar", get('skin-topbar')?get('skin-topbar'):'light'), document.body.setAttribute("data-sidebar", get('skin-sidebar')?get('skin-sidebar'):'dark')) : (document.body.setAttribute(
				"data-layout-mode", "dark"), document.body.setAttribute("data-topbar", "dark"), document.body.setAttribute("data-sidebar", "dark"))
	}
	function loadSkin(){
		var layout = get('skin-layout'),topbar = get('skin-topbar')?get('skin-topbar'):'light',sidebar = get('skin-sidebar')?get('skin-sidebar'):'dark';
		if(topbar) document.body.setAttribute("data-topbar", topbar);
		if(sidebar) document.body.setAttribute("data-sidebar", sidebar);
		if(layout) changeSkin(layout);
		t.hasAttribute("data-layout-mode") && "dark" ==
		t.getAttribute("data-layout-mode") ? l("layout-mode-dark") : l("layout-mode-light"), t
		.hasAttribute("data-sidebar") && "brand" == t.getAttribute("data-sidebar") ? l("sidebar-color-brand") :
		t.hasAttribute("data-sidebar") && "dark" == t.getAttribute("data-sidebar") ? l("sidebar-color-dark") :
		l("sidebar-color-light")
		$(".right-bar .theme-list-link").each(function(index,e){
			topbar !== s(this).data("theme") || s(this).parent().addClass("active")
		})
	}
	function store(name, val) {
		console.log(name)
	    if (typeof (Storage) !== 'undefined') {
	        localStorage.setItem(name, val)
	    } else {
	        window.alert('Please use a modern browser to properly view this template!')
	    }
	}
	function get(name) {
	    if (typeof (Storage) !== 'undefined') {
	        return localStorage.getItem(name)
	    } else {
	        window.alert('Please use a modern browser to properly view this template!')
	    }
	}
	function l(t) {
		document.getElementById(t) && (document.getElementById(t).checked = !0)
	}

	function e() {
		document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement || (console.log(
			"pressed"), s("body").removeClass("fullscreen-enable"))
	}
	var n;
	var t = document.getElementsByTagName("body")[0];
	s("#side-menu").metisMenu(), s("#vertical-menu-btn").on("click", function(e) {
			e.preventDefault(), s("body").toggleClass("sidebar-enable"), 992 <= s(window).width() ? s("body")
				.toggleClass("vertical-collpsed") : s("body").removeClass("vertical-collpsed")
		}), s("body,html").click(function(e) {
			var t = s("#vertical-menu-btn");
			t.is(e.target) || 0 !== t.has(e.target).length || e.target.closest("div.vertical-menu") || s("body")
				.removeClass("sidebar-enable")
		}), s("#sidebar-menu a").each(function() {
			var e = window.location.href.split(/[?#]/)[0];
			this.href == e && (s(this).addClass("active"), s(this).parent().addClass("mm-active"), s(this).parent()
				.parent().addClass("mm-show"), s(this).parent().parent().prev().addClass("mm-active"), s(this)
				.parent().parent().parent().addClass("mm-active"), s(this).parent().parent().parent().parent()
				.addClass("mm-show"), s(this).parent().parent().parent().parent().parent().addClass("mm-active")
				)
		}), s(".navbar-nav a").each(function() {
			var e = window.location.href.split(/[?#]/)[0];
			this.href == e && (s(this).addClass("active"), s(this).parent().addClass("active"), s(this).parent()
				.parent().addClass("active"), s(this).parent().parent().parent().addClass("active"), s(this)
				.parent().parent().parent().parent().addClass("active"), s(this).parent().parent().parent()
				.parent().parent().addClass("active"))
		}), s('[data-toggle="fullscreen"]').on("click", function(e) {
			e.preventDefault(), s("body").toggleClass("fullscreen-enable"), document.fullscreenElement || document
				.mozFullScreenElement || document.webkitFullscreenElement ? document.cancelFullScreen ? document
				.cancelFullScreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document
				.webkitCancelFullScreen && document.webkitCancelFullScreen() : document.documentElement
				.requestFullscreen ? document.documentElement.requestFullscreen() : document.documentElement
				.mozRequestFullScreen ? document.documentElement.mozRequestFullScreen() : document.documentElement
				.webkitRequestFullscreen && document.documentElement.webkitRequestFullscreen(Element
					.ALLOW_KEYBOARD_INPUT)
		}), document.addEventListener("fullscreenchange", e), document.addEventListener("webkitfullscreenchange", e),
		document.addEventListener("mozfullscreenchange", e), s(".right-bar-toggle").on("click", function(e) {
			s("body").toggleClass("right-bar-enabled")
		}), s(document).on("click", "body", function(e) {
			0 < s(e.target).closest(".right-bar-toggle, .right-bar").length || s("body").removeClass("right-bar-enabled")
		}), s(".dropdown-menu a.dropdown-toggle").on("click", function(e) {
			return s(this).next().hasClass("show") || s(this).parents(".dropdown-menu").first().find(".show")
				.removeClass("show"), s(this).next(".dropdown-menu").toggleClass("show"), !1
		}), s(function() {
			s('[data-toggle="tooltip"]').tooltip()
		}), s(function() {
			s('[data-toggle="popover"]').popover()
		}), s("input[name='sidebar-color']").on("change", function(e) {
			if(get('skin-layout') == 'dark') return false;
			document.body.setAttribute("data-sidebar", s(this).val()),store('skin-sidebar', s(this).val())
		}), s(".right-bar").on("click", ".theme-list-link", function(e) {
			if(get('skin-layout') == 'dark') return false;
			document.body.setAttribute("data-topbar", s(this).data('theme'))
			s(this).parent().siblings().removeClass("active")
			s(this).parent().addClass("active")
			console.log(s(this).data('theme'))
			store('skin-topbar', s(this).data('theme'));
		}),s("input[name='layout-mode']").on("change", function(e) {
			changeSkin(s(this).val()),store('skin-layout', s(this).val())
			
		}),loadSkin()
}(jQuery);

